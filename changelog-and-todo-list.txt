**Version 2.6
 * ref to "disable" on-the-fly consisting, and revert to dropping when a new one is added.
**Version 2.5
 * return TargetSDKVersion to 10 to trigger "legacy overflow button" for menu (needed on ICS)
 * keep screen on in web view (prevent screen blanking)
**Version 2.4
 * update JmDNS to 3.4.2+
 * fixed opaque "footer" in roster listview (seen when few items exist)
 * catch error when loco address left blank
 * allow entry of complete http* url for web views
 * sort routes by user name
 * sort turnouts by user name
 * add pref for orientation of web screen
**Version 2.3
 * lock orientation to portrait for most screens
 * add Mfg to roster details (overlooked earlier)
 * prevent "bounce" when slow server sends old speed.  ED was sending it back as new request.
 * increase server connection timeout values
 * track individual addresses/rosterids for acquired locos
 * process MT-xxx messages to remove loco from a throttle
 * handle space char in roster id as %20, not +, for new jetty server
 * increased caching of roster icon images
 * prevent multiple requests of same image when opening roster (was due to resizing of view)
 * pref to limit max throttle change, to prevent accidental speedup when trying to press reverse.
 * ignore swipe on throttle sliders
 * re-retrieve roster details when roster received
**Version 2.2
 * use roster name when selecting loco, to handle multiples with same address
 * show roster details (including comments) on long-press on roster entry in list
 * determine full JMRI version using xmlio server (shown on roster page if available)
 * use new roster icon urls if JMRI version > 2.99.4
 * catch out of memory error when retrieving large images (seen when resize not available)
 * ignore failed wifi lock attempt (error reported to Market)
**Version 2.1
 * new user pref to select orientation on Throttle (default to portrait)
 * stop javascript refresh on exit (by loading a "blank" page)
 * rearranged prefs                                                                          
**Version 2.0
 * connect to discovered servers using IP instead of verifying name (avoids timeout on non-DNS network)
 * change server list items to display system name and ip address
 * move "web" menu item higher in list so it always shows in Throttle (instead of under More)
 * only show/use ipv4 address
 * implement serviceRemoved to remove ended servers from discovered list
 * web page links now open inside ED instead of external browser 
 * added prefs for "Initial Web Page" and Web View Location
 * initial version of web page on throttle page, Bottom only, 50%
 * prevent ConcurrentModificationException crash (reported to market)
**Version 1.9
 * encode icon filenames to handle special characters
 * catch error when attempting to load very large image files
 * send resizing parm with image retrieval (also added code to JMRI to take advantage of this)
 * moved roster.xml loading to an async thread
 * upgraded imagedownloader
 * catch NPE in withrottle_send (reported to Market) - (rbecker) 
 * improved handling of connection loss, including reconnect (rbecker)
**Version 1.8
 * Add try/catch for ScrollView.onTouchEvent, reported to dev console (rbecker)
 * ignore malformed roster list, reported to dev console (mstevetodd)
 * retrieve and display roster images, if mini web server running (lionel)
 * show consist details unless name is > 4
 * Removed unneeded host name lookups to speed connection on some networks, including 2 in jmDNS
 * Turned off speed step handling (for now)
 * Fixed crash  (reported to dev console) in routes, turnouts and power when response was < 3 chars  
 * catch error "Thread already started" message (reported to dev console)
 * reduce height of roster entries if icon not used
**Version 1.7
 * Enabled "fling" between turnouts, throttle, routes (rbecker)
 * Fixed the shutdown and back behavior (rbecker)
 * added animations to all page transitions (rbecker)
 * added menus to routes and turnouts activities (rbecker)
 * fixed initial height on throttle (rbecker)
 * show feedback on Stop button (rbecker) 
 * fixed intermittent failure to get functions from roster (rbecker)
 * handle strange speeds sent by eStop and show message (rbecker) 
 * add prompt before disconnecting (rbecker)
 * moved socket read and heartbeat into classes (rbecker)
 * now checks for WiT even when no loco selected (rbecker)
 * now shows correct page when returning from web (mstevetodd)
 * added menu to web activity (mstevetodd)
 * don't blank out manual entry after use (mstevetodd)
 * always include jmri.mstevetodd.com in connections list (mstevetodd)
 * new pref for max recent connections (mstevetodd)
 * moved save of recent connections to follow start of throttle activity instead of precede
**Version 1.6
 * Began adding Multithrottle support (serious rigged version, 2.0+ only)
 * Mirror speed and direction from server (on heartbeat, 2.0+ only)
 * Show warning on client if server goes away while loco selected 
 * Improved appearance of buttons
 * Fixed incorrect heartbeat request when not enabled on server side
 * Shrink the font for loco strings instead of growing the buttons
 * Added background texture
 * Added preference to hide recent loco list (more room for roster list)
 * corrected display of Short addresses in Recent list
 * prevented crash when MaxThrottle pref is blanked
 * button "on" images work even when < 2.0 (also fixes the immed-after-press display)
 * fixed slider height on low-dpi devices
 * fixed height of selected locos lists on select_loco activity
 * button text now shows up in eclipse graphical layout tool
 * receive web server port#
 * add menu option to browse mini web server home page
 * started work on "flings" between turnouts, throttle, routes.
 * added device IP to "cannot connect" message for better debugging
**Version 1.5
 * sort roster entries by name
**Version 1.4
 *  uses JMRI images for power off/on/unknown instead of text (added by rbecker)
 *  fixed several potential crashes when reading misformatted settings files (mstevetodd)
 *  improved default throttle naming to prevent duplicate connections (mstevetodd)
 *  updated jmDNS again (mstevetodd)
 *  changed discovery code to take advantage of jmdns changes, works better with ubuntu (mstevetodd)
  *Version 1.3
 *  suppressed popup soft keyboard on Turnout and Route panels until EditText view is touched (added by rbecker)
 *  fixed another NPE reported to market (mstevetodd)
 *  updated jmDNS again (mstevetodd)
 *Version 1.2 - changes/additions by mstevetodd
 *  updated jmDNS again
 *  fixed a couple of NPEs reported to Market
 * moved start of jmDNS to OnResume (to reconnect after lock/unlock of device)
 * switch loco controlled by volume buttons (by tapping the speed label)
 * added preference to increase height of throttle sliders
 *Version 1.1 - changes/additions by mstevetodd
 *  create and delete jmdns as needed (should prevent lockup when wifi is toggled, and will "retry" if wifi state changes.(
 *Version 1.0 - changes/additions by mstevetodd
 *  moved directory creation to connect message handler, removed writeable check altogether, and added toast messages on file read/writes
 *  moved read of connections_list.txt to onStart so it shows immediately
 *  use volume button for speed of first loco (only if selected)
 *  add existing consists to select list in select loco, formatting name as addr1+addr2+addr3, etc. 
 *  improved handling of discovery listener, turn it off and on, and don't add duplicates
 *  get qualified name of server and use it in discovery list, (verify it resolves first)
 *  added preference to hide route system names
 *  update jmDNS to 3.2.2 to improve server discovery
 *  turn off multicast_lock when not used
 *Version 0.9 - changes/additions by mstevetodd
 *  added roster list to select_loco screen (hidden if no entries)
 *  removed writeable check from read routines of settings and recent file loads (was causing it to randomly skip loading on Incredible)
 *  show long/short in recent locos list
 *  show roster names in throttle and selected loco
 *  always use function labels from roster entry (if set)
 *Version 0.8 - changes/additions by mstevetodd
 *  added NCE to hardware system list (oversight)
 *  added preference to default Long/Short/Auto for loco address length
 *  leading 0 was treated as octal in select_loco, made it stop doing that 
 *  show disabled Copy button in function settings
 *Version 0.7 - changes/additions by mstevetodd
 *  prevent acquire with blank loco address (was crashing)
 *  new Turnouts display showing list of defined turnouts, current state, updated on change
 *  toggle turnout on list click
 *  direct entry of turnout address with toggle and throw/close buttons, disable controls on not allowed
 *  new Layout Power control activity
 *  new Route control activity (clone of Turnouts)
 *  enhanced titles on all activities
 *Version 0.6 - changes/additions by mstevetodd
 *  added preference for Maximum Throttle, to set a maximum speed to be sent
 *  lowered minSDK from 7 to 4 (to allow use by Android 1.6 devices)  had to copy drawables to drawable folder
 *Version 0.5 - changes/additions by mstevetodd
 *  added select loco button to ed screen, call ed direct from connect
 *  added 29 function buttons for both throttles, using scrollers
 *  disable buttons and slider and shrink screen usage for unselected loco
 *  adjust function buttons to indicate current state from WiT server
 *  added release buttons to sl activity 
 *Version 0.3 - changes/additions by mstevetodd
 *   function labels for throttle, hiding unused
 *   separate rev-stop-fwd buttons
 *   read responses from withrottle and store in shared app variables
 *   forward responses to other activities, so they can update as needed
 *   advance screens only upon successful responses
 *   release loco when leaving throttle activity, with pref for stopping loco
 *   screen and messaging additions and edits to provide more feedback to user
 *   set short timeout on socket open and reads to prevent app from "hanging" on long timeout
 *   added heartbeat logic (when set on withrottle side)
 *   copy function labels from roster (note: they do not include sticky bit)
 *   send hardware address as HU<throttle-name>  (prevents duplicates in WiThrottle server)
 *   changed process namespace from net.lnxgfx to jmri.enginedriver
 *   added html About page
 */
/*
 *   TODO: add e-stop button to all screens (enabled by pref)
 *   TODO: use pref for orientation of all screens, not just throttle
 *   TODO: show icon in notification bar if app is running but not visible
 *   TODO: allow user to configure side-by-side panels for pads, etc.
 *   TODO: add consist creation/editing features
 *   TODO: change config files to use db instead of .txt files
 *   TODO: toast messages on release of loco (even on Exit) and update of preferences
 *   TODO: make private stuff private
 *   TODO: split RESPONSE message into multiples, and remove string parsing from other activities
 *   TODO: rewrite procedural process_xxx functions into proper OO classes
 * web
 *   TODO: reload last web page when auto-rotating (or don't reload at all)
 *   TODO: allow user to specify multiple web URLs
 *   TODO: optionally add web to fling logic  (multiples?)
 * routes
 *   TODO: use PRT titles for Active/inactive
 * turnouts
 *   TODO: default "system" based on items in use
 *   TODO: if system is blank, allow (force) entry of entire name "LT12"
 *   TODO: use PTT titles for Turnouts/Turnout
 * connection
 *   TODO: add pref for auto-connect to first discovered server
 *   TODO: verify network connection is to an actual WiT server (e.g. connect to http port doesn't error)
 * threaded_application
 *   TODO: remember consist details
 *   TODO: when MT+ received, if the loco is in a consist, request the consist address also
 *   TODO: rewrite readTimer logic, to start back up rather than creating a new one
 *   TODO: check for error on send and do something with it 
 *   TODO: move socket timeout values to preference
 *   TODO: redo hard-coded 29 in function arrays (29 is hard-coded in WiT side, so no rush)
 * throttle:
 *   TODO: pref for throttle up/down buttons at ends of sliders, with setting for amount of change
 *   TODO: pref for additional left margin on throttle
 *   TODO: move lots of stuff from set_labels() to OnResume (or maybe not, since that precedes the layout of views?)
 *   TODO: catch ArrayIndexOutOfBoundsException (reported to Market)
 *   TODO: avoid dup sends when function is non-latching (get from WiT)  e.g. HornSelect skips one
 *   TODO: respect "Max Throttle %" from roster entry
 *   TODO: use notched slider using speedstep value returned from WiT (pref?)
 *   TODO: add more info to Exit dialog, e.g. "2 locos will be stopped and released" 
 *   TODO: make Forward, Stop, Reverse language-sensitive 
 *   TODO: advise user if layout power is off (need to check behavior to see if this should be warning or error)
 *   TODO: reduce number of calls to set_labels()
 *   TODO: add preference to disable other hardware buttons in throttle screen
 *   TODO: add graphics (slider, stop, directions, functions?)  add colors
 *   TODO: add throttle name to title bar
 *   TODO: in ed exit, don't send release if "Not Set"
 *   TODO: get 2nd line of label text working again
 *   TODO: unset all states when loco not selected
 * select_loco:
 *   TODO: add close button and roster image to details dialog
 *   TODO: handle direction of locos in MT consist 
 *   TODO: clean up code for  new MT (Multi-throttle) feature 
 *   TODO: simplify select_loco by removing handler
 * preferences:
 *   TODO: show error if invalid entry
 *
 * These require changes to WiThrottle
 *   support resend of function and direction commands, even when WiT knows it has already sent
 *   WiT send MT-xxx when commands are received from a client for a loco that is not active.  (to get ED up to date with server after connection loss)
 *   add "available" roster/address list to select_loco_activity (need "in use" indicator from WiT)
 *   disallow "steal"  (if requested addr "in use", return error)  probably should be a WiT pref
 *   add "E"rror response
 * 
 * */
